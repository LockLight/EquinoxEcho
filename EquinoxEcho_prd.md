<context>

# Overview

EquinoxEcho 是一款基于微信小程序平台的应用，用户通过输入个人多维信息（如生辰八字、星座、MBTI人格、兴趣爱好、职业倾向及性格关键词），即时生成具有“吉普里画风”的个性化卡通形象，并与同生日历史名人进行对比分析。

**目标用户：** 喜爱个性化表达、动漫文化与东西方人格分析体系的年轻用户；对历史人物有兴趣，喜欢分享特等内容至社交平台的用户。

**价值：**

- 提供一次性、匿名的个性化视觉表达
- 趣味性自我探索与名人对比体验
- 易于社交平台传播

# Core Features

1. **卡通形象生成（通过阿里云百点API）**
   - 用户输入信息由后端生成Prompt调用百点API创建卡通图像
   - 风格统一为“吉普里画风”
2. **名人匹配与分析（Wikidata）**
   - 通过用户生日构造SPARQL调用，匹配并展示历史名人及对比分析
3. **微信分享与微调**
   - 提供微信SDK一键分享；卡通形象支持微调功能

# User Experience

- **Persona：**
  - 喜欢探索自我、对动漫文化与社交分享有兴趣的年轻用户
- **主要流程：**
  - 小程序启动 > 对话式信息输入 > 卡通生成 > 名人对比展示 > 分享
- **UX要点：**
  - 情感化设计、加载动画、结果展示清晰、体验一次性不留痕

</context>

<PRD>

# Technical Architecture

- **前端：**
  - 微信小程序框架 + 云开发能力（云函数、云存储）
- **后端：**
  - 腾讯云云函数处理输入、调用API、数据转换
  - 阿里云百点API生成图像
  - Wikidata API获取名人数据
- **存储：**
  - 微信云存储用于临时保存生成图片（配置生命周期清理）

# Development Roadmap

- **MVP阶段：**
  - 小程序用户信息输入界面、调用百点API生成图像
  - 使用Wikidata展示基础名人信息及对比
- **后续迭代：**
  - 输入扩展支持NLP解析（基于规则或腾讯云NLP）
  - 增强图像个性化、名人对比深度、优化分享功能

# Logical Dependency Chain

1. **腾讯云项目初始化**
2. **百点API调用集成**
3. **Wikidata API连接验证与查询模块**
4. **小程序核心流程打通**
5. **UI/UX设计和实现：对话式信息输入、结果展示界面、情感化动效等**
6. **分享与微调功能开发**

# Risks and Mitigations

- **百点API效果不理想：** 提前测试并调优Prompt策略
- **Wikidata API稳定性：** 增加调用重试与缓存机制
- **腾讯云费用控制：** 设置调用频率和资源清理机制
- **图片合规与隐私：** 明确提示一次性使用，不保存个人数据

# Appendix

- **推荐服务替代方案：**
  - 图像生成模型可选稳定扩散模型部署于自定义服务
  - 若Wikidata受限，可考虑简化为固定名人库或自建缓存

</PRD>